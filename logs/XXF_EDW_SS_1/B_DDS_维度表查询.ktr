<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>维度表查询</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2019/04/22 14:13:42.050</created_date>
    <modified_user>-</modified_user>
    <modified_date>2019/04/22 14:13:42.050</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>172.20.1.190_book_operation_log</name>
    <server>172.20.1.190</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>book_operation_log</database>
    <port>3306</port>
    <username>tanlx</username>
    <password>Encrypted 6753eeeecbfd27c38ba69a3b85339dd7eaee</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>192.168.21.44_cn_sisyphe_dds</name>
    <server>192.168.21.44</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>cn_sisyphe_dds</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e4cb79ce10cc9da0ce</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>192.168.21.44_sisyphe_coff</name>
    <server>192.168.21.44</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>sisyphe_coff</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e4cb79ce10cc9da0ce</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>192.168.21.44_sisyphe_dds</name>
    <server>192.168.21.44</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>sisyphe_dds</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e4cb79ce10cc9da0ce</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>192.168.21.44_sisyphe_ods</name>
    <server>192.168.21.44</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>sisyphe_ods</database>
    <port>3306</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e4cb79ce10cc9da0ce</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>askcard_db_192.168.21.47</name>
    <server>192.168.21.83</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>askcard_db</database>
    <port>3306</port>
    <username>e_tlx</username>
    <password>Encrypted 67515074daade2ac13e5a3a68003fa5df1a5fbee</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>EXTRA_OPTION_MYSQL.defaultFetchSize</code>
        <attribute>500</attribute>
      </attribute>
      <attribute>
        <code>EXTRA_OPTION_MYSQL.useCursorFetch</code>
        <attribute>true</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>Linux192.168.21.47_oauth_database</name>
    <server>192.168.21.83</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>oauth_database</database>
    <port>3306</port>
    <username>e_tlx</username>
    <password>Encrypted 67515074daade2ac13e5a3a68003fa5df1a5fbee</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>logsystem_192.168.21.47</name>
    <server>192.168.21.83</server>
    <type>MYSQL</type>
    <access>Native</access>
    <database>logsystem</database>
    <port>3306</port>
    <username>e_tlx</username>
    <password>Encrypted 67515074daade2ac13e5a3a68003fa5df1a5fbee</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>EXTRA_OPTION_MYSQL.defaultFetchSize</code>
        <attribute>500</attribute>
      </attribute>
      <attribute>
        <code>EXTRA_OPTION_MYSQL.useCursorFetch</code>
        <attribute>true</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3306</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STREAM_RESULTS</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>coffee_baseinfo_v2_站点维度表</from>
      <to>dds_station</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>oauth_database_人员权限维度表</from>
      <to>dds_staff_permissions</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>咖啡零售供应商_supplier</from>
      <to>coffee_baseinfo_v2_supplier</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>新系统人员编码_员工信息表_oauth_database</from>
      <to>oauth_database_user</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>咖啡产品_咖啡原料</from>
      <to>cargo_raw_material</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>咖啡商品配方维度表</from>
      <to>coffee_product_formula</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>咖啡原料与货物维度表</from>
      <to>material_cargo_table</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>咖啡门店开业时间</from>
      <to>sisyphe_coff_station_bussinessdays</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>咖啡套餐所对应的单品</from>
      <to>coffee_product_formula_detail</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>3.0版本营运日志_客流</from>
      <to>passenger_flow</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>oauth_database_人员角色维度表</from>
      <to>dds_role</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>2.0版本_营运日志_客流</from>
      <to>station_passenger_flow</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>3.0站点维度中间表</from>
      <to>dds_station_tmp</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>2.0版本_营运日志_客流</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_cn_sisyphe_dds</connection>
    <sql>select  date(`b`.`record_date`)create_time, -- AS `填报时间`,
         `d`.`新系统站点ID` station_code, --   AS `新系统站点ID`,
         `c`.`info_value` as passenger_flow -- AS `客流值`

  from (((`sisyphe_ods`.`logsystem_store` `a` join `sisyphe_ods`.`logsystem_infonote` `b` on ((`a`.`store_id` =
 `b`.`station_id`))) join `sisyphe_ods`.`logsystem_infovalue` `c` on ((
    (`b`.`info_id` = `c`.`info_id`) and (`c`.`field_id` = '94')))) join `sisyphe_dds`.`区域维度表` `d` on ((
    `a`.`store_number` = `d`.`老系统站点ID`))) where info_state=1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>640</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>3.0版本营运日志_客流</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <sql>select `c`.`field_id`,    -- AS `客流编码`,
         `d`.`新系统站点ID` station_code, --   AS `新系统站点ID`,
         `d`.`新系统站点名称`  station_name,--   AS `新系统站点名称`,
         date(`b`.`record_date`)record_date, -- AS `填报时间`,
         `c`.`info_value`, -- AS `客流值`
         info_state
  from (((`sisyphe_ods`.`logsystem_store` `a` join `sisyphe_ods`.`logsystem_infonote` `b` on ((`a`.`store_id` =
                                                                                               `b`.`station_id`))) join `sisyphe_ods`.`logsystem_infovalue` `c` on ((
    (`b`.`info_id` = `c`.`info_id`) and (`c`.`field_id` = '94')))) join `sisyphe_dds`.`区域维度表` `d` on ((
    `a`.`store_number` = `d`.`老系统站点ID`))) where info_state=1</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>640</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>3.0站点维度中间表</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>172.20.1.190_book_operation_log</connection>
    <sql>select
    a.id,
    a.city_code,
    a.city_name,
    a.coffee_station_code           as coffee_history_code,
    a.cq_yh_station_code            as yh_station_code,
    a.finance_region_code           as region_code,
    a.finance_region_name           as large_area_name,
    a.large_code                    as station_region_code,
    d.large_area_name               as station_region_name,
    a.manager_region_code           as large_code,
    a.manager_region_name           as large_name,
    a.open_time,
    a.close_time,
    a.site_type                     as category_code,
    case a.site_type
        when 'BOOKSTORE'
            then '书店'
        when 'LOGISTICS'
            then '物流'
        when 'WHOLESALE'
            then '批发事业部'
        when 'HQ'
            then '总部'
        when 'STAPLE'
            then '大宗客户部'
        when 'CAFE'
            then '咖啡馆'
        else a.site_type end            as category_name,
    case
        when a.station_code in ('CKGB01', 'KWEB01', 'KWEB05', 'WSBA00', 'LGDA09','BLBA00','BSBA01','CHNB01','CKGB01','KWEB01','KWEB05','LGDA09','WSBA00')
            then '物流'
        when a.station_name like '%物流%'
            then '物流'
        when a.station_name like '%书店%'
            then '书店'
        when a.station_name like '%咖啡馆%'
            then '咖啡'
        else '书店' end                   as category_name_flow,
    case
        when a.station_code in ('CKGB01', 'KWEB01', 'KWEB05', 'WSBA00', 'LGDA09','BLBA00','BSBA01','CHNB01','CKGB01','KWEB01','KWEB05','LGDA09','WSBA00')
            then 'LOGISTICS'
        when a.station_name like '%物流%'
            then 'LOGISTICS'
        when a.station_name like '%书店%'
            then 'BOOKSTORE'
        when a.station_name like '%咖啡馆%'
            then 'CAFE'
        else 'BOOKSTORE' end            as category_code_flow,
    a.station_code                  as new_station_code,
    a.station_name                  as new_station_name,
    a.station_status                as status_code,
    case a.station_status
        when 'USABLE'
            then '可用'
        else '不可用' end                  as status_name,
    ifnull(b.belong_logistics_station_code,a.station_code) as logistic_code,
    ifnull(c.station_name,a.station_name)                  as logistics_name
from new_station.station as a left join new_station.logistics as b
                                        on a.id = b.station_id
                              left join new_station.station as c on b.belong_logistics_station_code = c.station_code
                              left join new_station.large_area as d on a.large_code = d.large_area_code



</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>192</xloc>
      <yloc>624</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>cargo_raw_material</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <schema/>
    <table>cargo_raw_material</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>368</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>coffee_baseinfo_v2_supplier</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <schema/>
    <table>coffee_baseinfo_v2_supplier</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>864</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>coffee_baseinfo_v2_站点维度表</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>logsystem_192.168.21.47</connection>
    <sql>select ifnull(d.logistic_code, a.新系统站点ID) as logistic_code,
       ifnull(d.station_name, a.新系统站点名称)  as logistics_name,
       a.区域编码                             as station_region_code,
       a.区域名称                             as station_region_name,
       a.城市ID                             as city_code,
       a.城市名称                             as city_name,
       a.老系统站点ID                          as yh_station_code,
       a.新系统站点ID                          as new_station_code,
       c.store_id                         as logsystem_code,
       a.咖啡老系统站点ID                        as coffee_history_code,
       a.新系统站点名称                          as new_station_name,
       substring_index(a.新系统站点名称, '_', 1) as station_name_all,
       a.业务类别编码                           as category_code,
       a.业务类别明文                           as category_name,
       a.所属财务区域编码                         as region_code,
       b.large_area_name,
       a.status_code,
       a.status_name
        ,
       case
           when a.新系统站点ID in ('CKGB01', 'KWEB01', 'KWEB05', 'WSBA00', 'LGDA09','BLBA00','BSBA01','CHNB01','CKGB01','CSNA00','KWEB01','KWEB05','LGDA09','WSBA00') then '物流'
           when a.新系统站点名称 like '%物流%' then '物流'
           when a.新系统站点名称 like '%书店%' then '书店'
           when a.新系统站点名称 like '%咖啡馆%' then '咖啡'
           else '书店' end                  as category_name_flow,
       case
           when a.新系统站点ID in ('CKGB01', 'KWEB01', 'KWEB05', 'WSBA00', 'LGDA09','BLBA00','BSBA01','CHNB01','CKGB01','CSNA00','KWEB01','KWEB05','LGDA09','WSBA00') then 'LOGISTICS'
           when a.新系统站点名称 like '%物流%' then 'LOGISTICS'
           when a.新系统站点名称 like '%书店%' then 'BOOKSTORE'
           when a.新系统站点名称 like '%咖啡馆%' then 'CAFE'
           else 'BOOKSTORE' end                  as category_code_flow
from (
         select a.large_area_code        as 区域编码,
                a.large_area_name        as 区域名称,
                b.city_code              as 城市ID,
                b.city_name              as 城市名称,
                c.yh_station_code        as 老系统站点ID,
                c.station_code           as 新系统站点ID,
                coffee_station_code      as 咖啡老系统站点ID,
                c.station_name           as 新系统站点名称,
                c.site_type              as 业务类别编码,
                case
                    when c.site_type = 'HQ' then '总部'
                    when c.site_type = 'BOOKSTORE' then '书店'
                    when c.site_type = 'CAFE' then '咖啡馆'
                    when c.site_type = 'LOGISTICS' then '物流'
                    when c.site_type = 'STAPLE' then '大宗客户部'
                    when c.site_type = 'WHOLESALE' then '批发事业部'
                    else c.site_type end as 业务类别明文,
                c.finance_region_code    as 所属财务区域编码,
                c.status                 as status_code,
                case
                    when c.status = 'USABLE' then '可用'
                    when c.status = 'DISABLED' then '不可用'
                    else c.status end    as status_name
         from coffee_baseinfo_v2.large_area a
                  left join
              coffee_baseinfo_v2.city b
              on a.large_area_code = b.region_code
                  left JOIN
              coffee_baseinfo_v2.station c
              on b.city_code = c.city_code or a.large_area_code = c.finance_region_code
         where b.city_name is not null
     ) a
         left JOIN
     coffee_baseinfo_v2.large_area b
     on a.所属财务区域编码 = b.large_area_code
         left join logsystem.store c
                   on a.老系统站点ID = c.store_number and c.store_state = 1
         left join (select b.station_name, a.station_code, a.logistic_code
                    from coffee_baseinfo_v2.station_logistic as a
                             left join coffee_baseinfo_v2.station as b
                                       on a.logistic_code = b.station_code) d
                   on a.新系统站点ID = d.station_code




/*select a.区域编码 as station_region_code,a.区域名称 as station_region_name,a.城市ID as city_code,a.城市名称 as city_name,a.老系统站点ID as yh_station_code,a.新系统站点ID as new_station_code,c.store_id as logsystem_code,a.咖啡老系统站点ID as coffee_history_code,
a.新系统站点名称 as new_station_name,a.业务类别编码 as category_code,a.业务类别明文 as category_code,a.所属财务区域编码 as region_code,b.large_area_name
from(
select a.large_area_code as 区域编码,a.large_area_name as 区域名称,b.city_code as 城市ID,b.city_name as 城市名称,
c.yh_station_code as 老系统站点ID,c.station_code as 新系统站点ID,coffee_station_code as 咖啡老系统站点ID,c.station_name as 新系统站点名称,c.site_type as 业务类别编码,
case when c.site_type='HQ' then '总部'
     when c.site_type='BOOKSTORE' then '书店'
     when c.site_type='CAFE' then '咖啡馆'
     when c.site_type='LOGISTICS' then '物流'
     when c.site_type='STAPLE' then '大宗客户部'
     when c.site_type='WHOLESALE' then '批发事业部'
else c.site_type end as 业务类别明文,
c.finance_region_code as 所属财务区域编码
from coffee_baseinfo_v2.large_area a
left join
coffee_baseinfo_v2.city b
on a.large_area_code=b.region_code
left JOIN
coffee_baseinfo_v2.station c
on b.city_code=c.city_code or a.large_area_code=c.finance_region_code
where b.city_name is not null
)a
left JOIN
coffee_baseinfo_v2.large_area b
on a.所属财务区域编码=b.large_area_code
left join logsystem.store c
on a.老系统站点ID=c.store_number
*/
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>208</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>coffee_product_formula</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <schema/>
    <table>coffee_product_formula</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>368</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>coffee_product_formula_detail</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <schema/>
    <table>coffee_product_formula_detail</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>368</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>dds_role</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_cn_sisyphe_dds</connection>
    <schema/>
    <table>dds_role</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>dds_staff_permissions</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <schema/>
    <table>dds_staff_permissions</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>384</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>dds_station</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <schema/>
    <table>dds_station</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>384</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>dds_station_tmp</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_cn_sisyphe_dds</connection>
    <schema/>
    <table>dds_station_tmp</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>368</xloc>
      <yloc>624</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>material_cargo_table</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <schema/>
    <table>material_cargo_table</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>368</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>oauth_database_user</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <schema/>
    <table>oauth_database_user</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>864</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>oauth_database_人员权限维度表</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>Linux192.168.21.47_oauth_database</connection>
    <sql>
select distinct 站点ID as station_code,站点名称 as station_name,员工编号 as staff_code,b.password from (
SELECT station_code as 站点ID,station_name as 站点名称,a.user_user_code as 员工编号 from user_role a,management_scope,coffee_baseinfo_v2.station
where management_scope.management_scope_code=a.management_scope_code and management_scope.nationwide IS TRUE
-- and a.user_user_code='YSCESHI'



union all
-- 区域范围内的站点
select distinct station_code,station_name,user_role.user_user_code from coffee_baseinfo_v2.station,coffee_baseinfo_v2.city,oauth_database.scope_large_area,user_role where station.city_code in (
  select city_code from coffee_baseinfo_v2.city where region_code in (
    select large_area_code from oauth_database.scope_large_area where management_scope_management_scope_code in (
      SELECT management_scope_code from user_role
    )
  ) and station.city_code=city.city_code and city.region_code=scope_large_area.large_area_code and scope_large_area.management_scope_management_scope_code = user_role.management_scope_code
)
-- and user_role.user_user_code = 'YSCESHI'

union all
-- 城市范围内的站点
select  station_code,station_name,user_role.user_user_code from coffee_baseinfo_v2.station,oauth_database.scope_city,user_role where station.city_code in (
  select scope_city.city_code from oauth_database.scope_city where management_scope_management_scope_code in  (
     SELECT management_scope_code from user_role
  )
) and  station.city_code=scope_city.city_code and scope_city.management_scope_management_scope_code=user_role.management_scope_code
-- and user_role.user_user_code = 'YSCESHI'

union all
-- 站点
select scope_station.station_code,station_name,user_role.user_user_code from oauth_database.scope_station,user_role,coffee_baseinfo_v2.station where management_scope_management_scope_code in (
   SELECT management_scope_code from user_role
) and scope_station.management_scope_management_scope_code=user_role.management_scope_code and scope_station.station_code=station.station_code
-- and user_role.user_user_code = 'YSCESHI';
)a left join user b on a.员工编号=b.user_code
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>208</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>oauth_database_人员角色维度表</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>Linux192.168.21.47_oauth_database</connection>
    <sql>select a.user_name,a.user_code,b.role_code,c.role_name,user_status as user_status_code,case when user_status='Incumbency' then '在职'
when user_status='Dimission' then '离职' else user_status end as user_status_name
from oauth_database.user as a
left join oauth_database.user_role as b
on a.user_code=b.user_user_code
left join oauth_database.role as c
on b.role_code=c.role_code</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>640</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>passenger_flow</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_cn_sisyphe_dds</connection>
    <schema/>
    <table>passenger_flow</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>sisyphe_coff_station_bussinessdays</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_coff</connection>
    <schema/>
    <table>sisyphe_coff_station_bussinessdays</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>station_passenger_flow</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <schema/>
    <table>station_passenger_flow</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>N</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>880</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>咖啡产品_咖啡原料</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <sql>select distinct c.level                        as one_level,
                case
                  when c.product_type_name = 'ROOT' then '套餐'
                  else c.product_type_name end as onw_product_type_name,
                b.level                        as two_level,
                b.product_type_name            as two_product_type_name,
                a.code                         as product_code,
                a.name                         as product_name,
                e.code                         as raw_material_code,
                e.name                         as raw_material_name
from sisyphe_ods.coffee_baseinfo_v2_product as a
       left join sisyphe_ods.coffee_baseinfo_v2_product_type as b on a.product_type_id = b.id
       left join sisyphe_ods.coffee_baseinfo_v2_product_type as c on b.parent_id = c.id
       inner join sisyphe_ods.coffee_baseinfo_v2_product_raw_material_ids d on a.id = d.product_id
       inner join sisyphe_ods.coffee_baseinfo_v2_raw_material e on d.raw_material_ids = e.id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>192</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>咖啡原料与货物维度表</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_ods</connection>
    <sql> select `b`.`code`                                                               AS `material_code`,
         `b`.`name`                                                               AS `material_name`,
         `a`.`number`                                                             AS `material_measurement`,
         substr(`e`.`configure_name`, (locate('/', `e`.`configure_name`) + 1), 5) AS `material_unit`,
         `c1`.`material_type_code`                                                AS `material_type_one_code`,
         `c1`.`material_type_name`                                                AS `material_type_one_name`,
         `c2`.`material_type_code`                                                AS `material_type_two_code`,
         `c2`.`material_type_name`                                                AS `material_type_two_name`,
         `a`.`cargo_code`                                                         AS `cargo_code`,
         `a`.`cargo_name`                                                         AS `cargo_name`,
         concat(`a`.`number`, `d`.`configure_name`)                               AS `cargo_specification`,
         substr(`d`.`configure_name`, (locate('/', `d`.`configure_name`) + 1), 5) AS `cargo_unit`,
         `a`.`cargo_unit_cost`                                                    AS `cargo_cost_price`,
         `a`.`effective_time`                                                     AS `expire_days`,
         `a`.`logic_status`                                                       AS `cargo_usable_status`
  from (((((`sisyphe_ods`.`coffee_baseinfo_v2_cargo` `a` join `sisyphe_ods`.`coffee_baseinfo_v2_raw_material` `b` on ((
    `a`.`raw_material_id` = `b`.`id`))) join `sisyphe_ods`.`coffee_baseinfo_v2_raw_material_type` `c2` on ((
    `b`.`material_type_code` = `c2`.`id`))) join `sisyphe_ods`.`coffee_baseinfo_v2_raw_material_type` `c1` on ((
    `c2`.`parent_id` = `c1`.`id`))) join `sisyphe_ods`.`coffee_baseinfo_v2_configure` `d` on ((`a`.`measurement_code` =
                                                                                               `d`.`configure_code`))) join `sisyphe_ods`.`coffee_baseinfo_v2_configure` `e` on ((
    `b`.`material_minimum_stand_id` = `e`.`configure_id`)))</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>192</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>咖啡商品配方维度表</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>askcard_db_192.168.21.47</connection>
    <sql>select p.code as product_code,p.name as product_name,r.code as raw_material_code,r.name as raw_material_name,f.amount as raw_material_amount from coffee_baseinfo_v2.product p
inner join coffee_baseinfo_v2.product_formulas pf on p.id=pf.product_id
inner join coffee_baseinfo_v2.formula f on pf.formulas_id=f.id
inner join coffee_baseinfo_v2.raw_material r on f.material_id=r.id</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>192</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>咖啡套餐所对应的单品</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_ods</connection>
    <sql>select '套餐'as coff_product_base_type,p.code as coff_product_code,p.name as coff_product_name,p1.code as coff_sku_code,p1.name as coff_sku_name from sisyphe_ods.coffee_baseinfo_v2_product p
inner join sisyphe_ods.coffee_baseinfo_v2_product_formulas pf on p.id=pf.product_id
inner join sisyphe_ods.coffee_baseinfo_v2_formula f on pf.formulas_id=f.id
inner join sisyphe_ods.coffee_baseinfo_v2_product p1 on f.product_id=p1.id
where p.base_type='MEAL'
union all
select case when base_type='SELF_PRODUCT' then '自制饮品' when base_type='PRODUCT' then '成品' end,code,name,code,name from sisyphe_ods.coffee_baseinfo_v2_product
where base_type&lt;&gt;'MEAL'</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>192</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>咖啡门店开业时间</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>192.168.21.44_sisyphe_dds</connection>
    <sql>SELECT station_code,sales_date,
v1.fina_year_month,v1.fina_month_start_date,
DATEDIFF(sales_date,v1.fina_month_start_date)+1 as bussinessdays
FROM
(
		SELECT station_code,max(date(create_time)) as sales_date  
		FROM sisyphe_coff.sale_usage_detail 
		GROUP BY station_code,date(create_time)
) temp1
INNER JOIN sisyphe_dds.date_view v1 on v1.date=temp1.sales_date</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>640</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>咖啡零售供应商_supplier</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>logsystem_192.168.21.47</connection>
    <sql>select 
supplier_id
,create_time
,logic_status
,update_time
,version
,abbreviation
,account_day
,cooperate_way_code
,cooperate_way_memo
,debt_max_day
,level_code
,memo
,stop_day
,supplier_code
,supplier_name
,supplier_status
from coffee_baseinfo_v2.supplier</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>640</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>新系统人员编码_员工信息表_oauth_database</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>Linux192.168.21.47_oauth_database</connection>
    <sql>select 
user_code
,create_time
,update_time
,version
,birthday
,gender
,large_area_code
,password
,phone
,serial_number
,user_name
,user_status
,rank_code_rank_code
,validate_status
from user</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>640</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
  <attributes/>
</transformation>
